<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
    <title>Boolzap</title>
</head>
<body>
     <!-- #si poteva fare direttamente sul body, sia l' altezza che il background-->
    <main id="root" class="vh-100 p-4">
        <!-- #marco ha dato al container vh90 e ha centrato il blocchettone con flexbox -->
        <!-- *andava bene mettere h100 dappertutto -->
        <div class="container h-100 d-flex">
            <!-- CONTACTS -->
            <div id="contacts" class="w-30">
                <section class="side-bar d-flex flex-column h-100">
                    <!-- header -->
                    <!-- #mettere il flex shrink 0 invece che il min-height -->
                    <header class=" bg-gray d-flex align-items-center px-2">
                       <!-- profile-picture -->
                       <!-- #immagine con figure -->
                       <!-- !con i backtick mi piace di più -->
                       <img :src="'img/avatar' + user.avatar + '.jpg'" alt="profile picture" class="rounded-circle img-fluid h-80">
                       <!-- user name -->
                        <span class="flex-grow-1">{{user.name}}</span>
                    <!-- icone -->
                        <!-- #anche in un contenitore indipendente con flex e space-around -->
                        <i class="fas fa-circle-notch mx-2 text-gray fs-4"></i>
                        <i class="fas fa-comment-alt mx-2 text-gray fs-4"></i>
                        <i class="fas fa-ellipsis-v mx-2 text-gray fs-4"></i>
                    </header>
                    <!-- #questi div si potevano in effetti fare tutti come section -->
                    <!-- notification toggler -->
                    <div id="notification-toggler" class="d-flex align-items-center px-3 bg-light-blue ">
                        <!-- notification toggler icon -->
                        <div id="notification-bell" class="bg-white text-light-blue rounded-circle d-flex align-items-center justify-content-center fs-5 mx-2"> 
                            <i class="fas fa-bell-slash"></i>
                        </div>
                        <!-- notification toggler text -->
                        <div class="flex-grow-1 mx-1">
                            <span>Ricevi notifiche di nuovi messaggi</span>
                            <br>
                            <a href="#" class="text-muted">Attiva le notifiche desktop</a>
                        </div>
                    </div>
                    <!-- navbar -->
                    <div class="flex-grow-1 bg-white">
                        <!-- strumento di ricerca -->
                        <div id="search-bar" class="p-1 bg-light-gray">
                            <div class="input-group input-group-sm">
                                <span class="input-group-text bg-white border-0">
                                    <i class="fas fa-search mx-2 text-gray fs-5"></i>
                                </span>
                                <input type="text" class="form-control border-0" placeholder="Cerca o inizia una nuova chat">
                            </div>
                              
                        </div>
                        <!-- contatti -->
                        <!-- #mettere pointer -->
                        <ul class="contact-list p-0">
                            <li v-for="(contact, index) in contacts" class="d-flex align-items-center" @click="selectContact(index)">
                                 <!-- profile-picture -->
                                 <!-- #modificare anche l' alt -->
                                <img :src="'img/avatar' + contact.avatar + '.jpg'" alt="profile picture" class="rounded-circle img-fluid h-80 mx-1">
                                <!-- user name -->
                                <span class="flex-grow-1">{{contact.name}}</span>
                            </li>
                        </ul>
                    </div>   
                </section>
            </div>
            <!-- CHAT -->
            <div id="chat" class="w-70"> 
                <section v-for="(contact,index) in contacts" :class="contact.visible? 'd-flex' : 'd-none'" class="flex-column h-100">
                    <!-- header -->
                    <header class=" bg-gray d-flex align-items-center px-2">
                        <!-- profile-picture -->
                       <img :src="'img/avatar' + contact.avatar + '.jpg'" alt="profile picture" class="rounded-circle img-fluid h-80">
                       <!-- user name -->
                       <div class="flex-grow-1">
                            <span>{{contact.name}}</span>
                            <br>
                            <span class="text-muted">Ultimo accesso oggi alle</span>
                       </div>
                       <!-- icone -->
                        <i class="fas fa-search mx-2 text-gray fs-4"></i>
                        <i class="fas fa-paperclip mx-2 text-gray fs-4"></i>
                        <i class="fas fa-ellipsis-v mx-2 text-gray fs-4"></i>
                    </header>
                    <!-- chat screen -->
                    <!-- #overflow-auto c'è anch in bootstrap -->
                    <!-- #si potevano dare i p-0 alle col, e lavorare con row e col -->
                    <div id="chat-screen" class="flex-grow-1 bg-white p-5" >
                        <!-- messaggi -->
                        <div class="message d-flex received p-2">
                            <!-- #c'è rounded 3 di bootstrap per message bubble -->
                            <div class="message-bubble p-3 w-40">
                                <p class="m-0">Hai portato a spasso il cane</p>
                                <div class="text-end">
                                    <span class="text-muted fs-7 text-end"> 10/01/2020 15:30:55</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- message input -->
                    <div id="message-input" class="bg-gray  d-flex align-items-center px-2">
                        <!-- emojis -->
                        <i class="far fa-smile mx-2 text-gray fs-4 mx-4"></i>
                        <!-- input -->
                        <div class="flex-grow-1 input-group input-group-lg h-80">
                            <input type="text" class="form-control border-0 fs-6" placeholder="Scrivi un messaggio" >
                        </div>
                        <!-- audio-message recorder -->
                        <i class="fas fa-microphone text-gray fs-4 mx-4"></i>
                    </div>
                </section>
            </div>
            </div>
        </div>
    </main>
    <!-- script -->
    <script src="js/script.js"></script>
</body>
</html>